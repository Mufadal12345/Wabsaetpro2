<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ØªØ­Ù Ø§Ù„ÙÙƒØ± - ÙƒØ§Ù…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: system-ui, -apple-system, sans-serif; }
        .main-bg { background: linear-gradient(135deg, #1f2937 0%, #111827 100%); }
        .section-content p { margin-bottom: 1rem; line-height: 1.8; }
        .highlight-quote { border-right: 4px solid #f59e0b; background: #fffbeb; padding: 1rem; margin: 1rem 0; font-style: italic; color: #1f2937; }
    </style>
</head>
<body class="main-bg min-h-screen flex items-center justify-center p-4">

    <div id="app" class="w-full max-w-3xl bg-stone-100 shadow-2xl rounded-2xl p-6 md:p-10 relative">
        
        <div id="toast" class="hidden fixed top-5 right-5 p-4 rounded-lg shadow-xl z-50 text-white font-bold"></div>

        <div id="login-view">
            <h1 class="text-3xl font-bold text-blue-900 text-center mb-2">ğŸ›ï¸ Ù…ØªØ­Ù Ø§Ù„ÙÙƒØ±</h1>
            <p class="text-center text-gray-500 mb-8">Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù„Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ù…Ø­ØªÙˆÙ‰</p>
            <form id="login-form" class="space-y-4">
                <input type="text" id="user-name" placeholder="Ø§Ù„Ø§Ø³Ù…" required class="w-full p-4 border rounded-xl outline-none focus:ring-2 ring-blue-500">
                <input type="text" id="user-spec" placeholder="Ø§Ù„ØªØ®ØµØµ (Ø£Ùˆ ÙƒÙˆØ¯ Ø§Ù„Ù…Ø¯ÙŠØ±)" required class="w-full p-4 border rounded-xl outline-none focus:ring-2 ring-blue-500">
                <button type="submit" id="btn-login" class="w-full bg-blue-800 text-white p-4 rounded-xl font-bold hover:bg-blue-900 transition shadow-lg">Ø¯Ø®ÙˆÙ„</button>
            </form>
        </div>

        <div id="home-view" class="hidden">
            <div class="flex justify-between items-center mb-6 border-b pb-4">
                <h2 class="text-xl font-bold text-blue-900">Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ <span id="display-name" class="text-blue-600"></span></h2>
                <button onclick="location.reload()" class="text-red-500 text-sm">Ø®Ø±ÙˆØ¬</button>
            </div>
            
            <div id="sections-menu" class="space-y-3">
                <p class="text-center text-gray-400 animate-pulse">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Firebase...</p>
            </div>

            <div id="section-detail" class="hidden">
                <button onclick="showMenu()" class="text-blue-600 mb-4 flex items-center"><span>â† Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©</span></button>
                <h1 id="detail-title" class="text-2xl font-bold text-gray-800 mb-4 border-b-2 border-amber-500 pb-2"></h1>
                <div id="detail-body" class="section-content text-gray-700 text-lg"></div>
            </div>
        </div>

        <div id="admin-view" class="hidden">
            <div class="flex justify-between items-center mb-6 border-b pb-4">
                <h2 class="text-xl font-bold text-rose-800">ğŸ” Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¯ÙŠØ±</h2>
                <div class="flex gap-2">
                    <button onclick="showMembers()" class="bg-blue-600 text-white px-3 py-1 rounded text-sm">Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†Ø¶Ù…ÙŠÙ†</button>
                    <button onclick="location.reload()" class="text-gray-500 text-sm">Ø®Ø±ÙˆØ¬</button>
                </div>
            </div>
            <div id="admin-sections" class="space-y-2"></div>
        </div>
    </div>

    <div id="members-modal" class="hidden fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-2xl w-full max-w-md p-6 max-h-[80vh] flex flex-col shadow-2xl">
            <h3 class="text-xl font-bold mb-4 border-b pb-2">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù…Ù†Ø¶Ù…ÙŠÙ†</h3>
            <div id="members-list" class="overflow-y-auto flex-1 text-sm space-y-2"></div>
            <button onclick="document.getElementById('members-modal').classList.add('hidden')" class="mt-4 bg-gray-100 p-2 rounded-lg w-full font-bold">Ø¥ØºÙ„Ø§Ù‚</button>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, getDocs, addDoc, query, orderBy, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ
        const firebaseConfig = {
            apiKey: "AIzaSyB8JN73w75NQB7MifQMdOl1VcwifklyVZU",
            authDomain: "newpro-d5360.firebaseapp.com",
            projectId: "newpro-d5360",
            storageBucket: "newpro-d5360.firebasestorage.app",
            messagingSenderId: "732050035324",
            appId: "1:732050035324:web:5a38e03134de3b287b2ff9"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        let allSections = [];

        // --- Ù…Ø­Ø±Ùƒ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (ÙƒÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø£ÙˆÙ„) ---
        const initialData = [
            { order: 1, type: 'basic_highlight', menuTitle: 'ğŸ§­ Ù„Ù…Ø§Ø°Ø§ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ù…Ù‡Ù…ØŸ', title: 'ğŸ§­ Ù„Ù…Ø§Ø°Ø§ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ù…Ù‡Ù…ØŸ', fields: { p1: "ÙÙŠ ÙƒÙ„ Ø·Ø§Ù„Ø¨ØŒ Ù‡Ù†Ø§Ùƒ Ø¹Ø§Ù„Ù… ØºÙŠØ± Ù…ÙƒØªØ´Ù: ÙÙƒØ±Ø© Ø¹Ù…ÙŠÙ‚Ø©ØŒ Ù„ÙˆØ­Ø© Ù„Ù… ØªÙØ¹Ø±Ø¶ØŒ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ù„Ù… ØªØ¬Ø¯ Ù…Ù† ÙŠØ³Ù…Ø¹Ù‡Ø§.", p2: "Ù…ØªØ­Ù Ø§Ù„ÙÙƒØ± Ù„ÙŠØ³ Ù…Ø´Ø±ÙˆØ¹Ù‹Ø§ Ø¹Ø§Ø¯ÙŠÙ‹Ø§â€¦", p3: "Ø¥Ù†Ù‡ Ù…Ù†ØµØ© ØªØµÙ†Ø¹ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø´Ø®ØµÙŠ ÙˆØ§Ù„ÙÙƒØ±ÙŠ Ù„ÙƒÙ„ Ø·Ø§Ù„Ø¨.", p4: "Ù‡Ù†Ø§ØŒ Ù†ÙØ­ÙˆÙ‘Ù„ Ø§Ù„Ø£ÙÙƒØ§Ø± Ø§Ù„ØµØ§Ù…ØªØ© Ø¥Ù„Ù‰ Ø£Ø«Ø± Ø®Ø§Ù„Ø¯ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©." }},
            { order: 2, type: 'list', menuTitle: 'ğŸ›ï¸ Ù…Ø§ Ù‡Ùˆ Ù…ØªØ­Ù Ø§Ù„ÙÙƒØ±ØŸ', title: 'ğŸ›ï¸ Ù…Ø§ Ù‡Ùˆ Ù…ØªØ­Ù Ø§Ù„ÙÙƒØ±ØŸ', fields: { intro: "Ù‡Ùˆ Ù…Ø³Ø§Ø­Ø© ÙÙƒØ±ÙŠØ© Ø­Ø±Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© â€” Ø²Ø§ÙˆÙŠØ© Ø£Ùˆ Ø¬Ø¯Ø§Ø± Ø£Ùˆ Ù‚Ø§Ø¹Ø© â€” ØªØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„ÙÙ„Ø³ÙØ©ØŒ Ø§Ù„ÙÙ†ØŒ ÙˆØ§Ù„Ø¥Ø¨Ø¯Ø§Ø¹.", items: "ØªØ£Ù…Ù„Ø§ØªÙ‡Ù… ÙˆØ£ÙÙƒØ§Ø±Ù‡Ù….\nÙ„ÙˆØ­Ø§ØªÙ‡Ù… ÙˆØ±Ø³ÙˆÙ…Ø§ØªÙ‡Ù… Ø§Ù„Ø±Ù…Ø²ÙŠØ©.\nØ§Ù‚ØªØ¨Ø§Ø³Ø§ØªÙ‡Ù… ÙˆÙ…Ù‚Ø§Ù„Ø§ØªÙ‡Ù… Ø§Ù„Ù‚ØµÙŠØ±Ø©.\nØ£Ø³Ø¦Ù„ØªÙ‡Ù… Ø§Ù„ÙˆØ¬ÙˆØ¯ÙŠØ© ÙˆØ±Ø³Ø§Ø¦Ù„Ù‡Ù… Ù„Ù„Ø£Ø¬ÙŠØ§Ù„ Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©." }},
            { order: 3, type: 'quote', menuTitle: 'ğŸ’¡ Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠØ¬Ø¹Ù„Ù‡ Ù…Ø®ØªÙ„ÙÙ‹Ø§ØŸ', title: 'ğŸ’¡ Ù…Ø§ Ø§Ù„Ù…Ø®ØªÙ„ÙØŸ', fields: { p1: "Ù„Ø£Ù†Ù‡ ÙŠÙ…Ø³Ù‘ Ø¬ÙˆÙ‡Ø± Ø§Ù„Ø¥Ù†Ø³Ø§Ù†. Ù†Ø­Ù† Ù„Ø§ Ù†Ø¹Ø±Ø¶ Ø§Ù„Ø¯Ø±Ø¬Ø§Øª Ø£Ùˆ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§ØªØŒ Ø¨Ù„ Ù†ÙØ¸Ù‡Ø± Ù…Ø§ ÙŠØ¬Ø¹Ù„Ù†Ø§ Ø¨Ø´Ø±Ù‹Ø§: Ø§Ù„ØªÙÙƒÙŠØ±ØŒ Ø§Ù„Ø¥Ø­Ø³Ø§Ø³ØŒ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹.", quote: "Ø£Ù†Øª Ù„Ø³Øª Ù…Ø¬Ø±Ø¯ Ø±Ù‚Ù… Ø¬Ø§Ù…Ø¹ÙŠØŒ Ø£Ù†Øª ÙÙƒØ±Ø© ØªØ³ØªØ­Ù‚ Ø£Ù† ØªÙØ®Ù„Ù‘Ø¯." }},
            { order: 4, type: 'list', menuTitle: 'ğŸŒ¿ ÙØ§Ø¦Ø¯Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒÙŠÙ†ØŸ', title: 'ğŸŒ¿ Ø§Ù„ÙØ§Ø¦Ø¯Ø© Ù„Ù„Ù…Ø´Ø§Ø±ÙƒÙŠÙ†', fields: { intro: "Ù„ÙƒÙ„ Ø·Ø§Ù„Ø¨ Ø£Ùˆ Ø¯ÙƒØªÙˆØ± ÙŠØ´Ø§Ø±Ùƒâ€¦ Ù‡Ù†Ø§Ùƒ Ù‚ÙŠÙ…Ø© Ø­Ù‚ÙŠÙ‚ÙŠØ© ØªØ¹ÙˆØ¯ Ø¥Ù„ÙŠÙ‡:", items: "Ø§Ù„Ø´Ù‡Ø±Ø© Ø§Ù„ÙÙƒØ±ÙŠØ©: Ø§Ø³Ù…Ùƒ Ø³ÙŠØ¨Ù‚Ù‰ Ù„Ù„Ø£Ø¬ÙŠØ§Ù„.\nØ§Ù„Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ù„Ø£Ø¹Ù…Ø§Ù„Ùƒ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ©.\nÙ…Ø¬ØªÙ…Ø¹ ÙÙƒØ±ÙŠ Ø­Ù‚ÙŠÙ‚ÙŠ ØªÙ„ØªÙ‚ÙŠ ÙÙŠÙ‡ Ø¨Ø¹Ù‚ÙˆÙ„ ØªØ´Ø¨Ù‡Ùƒ.\nØªØ¬Ø±Ø¨Ø© Ø¥Ù†Ø³Ø§Ù†ÙŠØ© ÙØ±ÙŠØ¯Ø© Ø³ØªØ¬Ø¯ Ø£Ø«Ø±Ù‡Ø§ Ø¨Ø¹Ø¯ Ø³Ù†ÙˆØ§Øª." }},
            { order: 5, type: 'quote', menuTitle: 'ğŸš€ Ù„Ù…Ø§Ø°Ø§ Ø§Ù„Ø¯Ø¹Ù…ØŸ', title: 'ğŸš€ Ù„Ù…Ø§Ø°Ø§ ØªØ¯Ø¹Ù…Ù†Ø§ØŸ', fields: { p1: "Ø­ÙŠÙ† ØªØ¯Ø¹Ù… Ù…ØªØ­Ù Ø§Ù„ÙÙƒØ±ØŒ ÙØ£Ù†Øª ØªØ¯Ø¹Ù… ÙÙƒØ±Ø© Ø£Ù† Ø§Ù„Ø¥Ù†Ø³Ø§Ù† ÙŠØµÙ†Ø¹ Ø£Ø«Ø±Ù‡ Ø¨Ø§Ù„ÙÙƒØ± Ù„Ø§ Ø¨Ø§Ù„Ù…Ø§Ù„. ÙƒÙ„ Ù„ÙˆØ­Ø© Ù‡ÙŠ Ø§Ø³ØªØ«Ù…Ø§Ø± ÙÙŠ Ø±ÙˆØ­ Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©.", quote: "Ù…Ù† ÙŠØ¯Ø¹Ù… Ø§Ù„ÙÙƒØ±Ø© Ø§Ù„ÙŠÙˆÙ…ØŒ Ø³ÙŠÙØ°ÙƒØ± ØºØ¯Ù‹Ø§ Ø¨Ø£Ù†Ù‡ Ø¨Ù†Ù‰ Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ø§Ù„ÙÙƒØ±ÙŠØ© Ø§Ù„Ø£ÙˆÙ„Ù‰." }},
            { order: 6, type: 'list', menuTitle: 'ğŸ­ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ ÙˆØ§Ù„ØªÙˆØ³Ù‘Ø¹', title: 'ğŸ­ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ ÙˆØ§Ù„ØªÙˆØ³Ù‘Ø¹', fields: { intro: "Ù…ØªØ­Ù Ø§Ù„ÙÙƒØ± Ù„ÙŠØ³ Ù„Ø­Ø¸Ø© Ù…Ø¤Ù‚ØªØ©ØŒ Ø¨Ù„ Ø¨Ø°Ø±Ø© Ù…Ø´Ø±ÙˆØ¹ Ø«Ù‚Ø§ÙÙŠ Ø¯Ø§Ø¦Ù….", items: "Ù…Ø¹Ø§Ø±Ø¶ ÙÙƒØ±ÙŠØ© ÙˆÙÙ†ÙŠØ© Ø¯ÙˆØ±ÙŠØ©.\nÙ…Ø³Ø§Ø¨Ù‚Ø§Øª ØªØ­ÙÙŠØ²ÙŠØ© Ù„Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ§Øª.\nÙ†Ø¯ÙˆØ§Øª Ø­ÙˆÙ„ Ø§Ù„ÙÙ„Ø³ÙØ© ÙˆØ§Ù„ÙˆØ¹ÙŠ Ø§Ù„Ø°Ø§ØªÙŠ." }},
            { order: 7, type: 'final', menuTitle: 'âœ¨ Ø§Ù„Ø¯Ø¹ÙˆØ© Ø§Ù„Ø£Ø®ÙŠØ±Ø©', title: 'âœ¨ Ø´Ø§Ø±ÙƒÙ†Ø§ Ø§Ù„Ø¢Ù†', fields: { p1: "Ø´Ø§Ø±Ùƒ Ø¨ÙÙƒØ±Ø©ØŒ ÙƒÙ„Ù…Ø©ØŒ Ù„ÙˆØ­Ø©ØŒ Ø£Ùˆ Ø­ØªÙ‰ Ø³Ø¤Ø§Ù„ ÙˆØ¬ÙˆØ¯ÙŠ. Ø§ØªØ±Ùƒ Ø£Ø«Ø±Ù‹Ø§ ÙŠÙØ´Ø¨Ù‡ÙƒØŒ Ù„Ø£Ù† Ù…Ø§ ØªØ²Ø±Ø¹Ù‡ Ø§Ù„ÙŠÙˆÙ… Ø³ÙŠÙƒÙˆÙ† Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© ØºØ¯Ù‹Ø§.", sign: "Ù…ØªØ­Ù Ø§Ù„ÙÙƒØ± â€” Ù„Ø£Ù† Ø§Ù„ÙÙƒØ± Ù‡Ùˆ Ù…Ø§ ÙŠØ¬Ø¹Ù„Ù†Ø§ Ø®Ø§Ù„Ø¯ÙŠÙ†." }}
        ];

        // --- ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªØ´ØºÙŠÙ„ ---

        function notify(msg, color='bg-blue-600') {
            const t = document.getElementById('toast');
            t.textContent = msg; t.className = `fixed top-5 right-5 p-4 rounded-lg shadow-xl z-50 text-white font-bold ${color}`;
            t.classList.remove('hidden'); setTimeout(() => t.classList.add('hidden'), 3000);
        }

        async function checkAndSeed() {
            const q = await getDocs(collection(db, "sections"));
            if (q.empty) {
                notify("Ø¬Ø§Ø±ÙŠ Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…ØªØ­Ù Ù„Ø£ÙˆÙ„ Ù…Ø±Ø©...");
                for (let item of initialData) { await addDoc(collection(db, "sections"), item); }
            }
        }

        document.getElementById('login-form').onsubmit = async (e) => {
            e.preventDefault();
            const btn = document.getElementById('btn-login');
            btn.disabled = true; btn.textContent = "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚...";

            const name = document.getElementById('user-name').value;
            const spec = document.getElementById('user-spec').value;

            try {
                await checkAndSeed(); // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

                if (name === "Rasha" && spec === "20250929") {
                    document.getElementById('login-view').classList.add('hidden');
                    document.getElementById('admin-view').classList.remove('hidden');
                    loadAdminView();
                } else {
                    await addDoc(collection(db, "users"), { name, specialty: spec, time: serverTimestamp() });
                    document.getElementById('display-name').textContent = name;
                    document.getElementById('login-view').classList.add('hidden');
                    document.getElementById('home-view').classList.remove('hidden');
                    loadUserView();
                }
            } catch (err) { notify("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„!", "bg-red-600"); }
        };

        async function loadUserView() {
            const menu = document.getElementById('sections-menu');
            const q = query(collection(db, "sections"), orderBy("order"));
            const snap = await getDocs(q);
            allSections = [];
            menu.innerHTML = '';
            snap.forEach(doc => {
                const data = doc.data();
                allSections.push(data);
                const div = document.createElement('div');
                div.className = "p-4 bg-white rounded-xl shadow-sm border-r-4 border-blue-800 cursor-pointer hover:bg-blue-50 transition font-bold text-blue-900";
                div.textContent = data.menuTitle;
                div.onclick = () => renderDetail(data);
                menu.appendChild(div);
            });
        }

        function renderDetail(data) {
            document.getElementById('sections-menu').classList.add('hidden');
            const detail = document.getElementById('section-detail');
            detail.classList.remove('hidden');
            document.getElementById('detail-title').textContent = data.title;
            
            let html = '';
            const f = data.fields;
            if (data.type === 'basic_highlight') {
                html = `<p>${f.p1}</p><p>${f.p2}</p><p class="text-xl font-extrabold text-blue-800">${f.p3}</p><p>${f.p4}</p>`;
            } else if (data.type === 'list') {
                const list = f.items.split('\n').map(i => `<li>â€¢ ${i}</li>`).join('');
                html = `<p>${f.intro}</p><ul class="space-y-2 bg-blue-50 p-4 rounded-lg">${list}</ul>`;
            } else if (data.type === 'quote') {
                html = `<p>${f.p1}</p><div class="highlight-quote">${f.quote}</div>`;
            } else if (data.type === 'final') {
                html = `<div class="bg-blue-100 p-6 rounded-xl text-center"><p class="text-xl font-bold">${f.p1}</p><p class="mt-4 text-2xl text-blue-900 font-black">${f.sign}</p></div>`;
            }
            document.getElementById('detail-body').innerHTML = html;
        }

        window.showMenu = () => {
            document.getElementById('section-detail').classList.add('hidden');
            document.getElementById('sections-menu').classList.remove('hidden');
        };

        async function loadAdminView() {
            const list = document.getElementById('admin-sections');
            const snap = await getDocs(query(collection(db, "sections"), orderBy("order")));
            list.innerHTML = '';
            snap.forEach(doc => {
                list.innerHTML += `<div class="p-3 bg-white rounded shadow text-sm flex justify-between"><span>${doc.data().menuTitle}</span><span class="text-gray-400">Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù†Ø´Ø·Ø© âœ…</span></div>`;
            });
        }

        window.showMembers = async () => {
            const modal = document.getElementById('members-modal');
            const list = document.getElementById('members-list');
            modal.classList.remove('hidden');
            list.innerHTML = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...';
            const snap = await getDocs(query(collection(db, "users"), orderBy("time", "desc")));
            list.innerHTML = '';
            snap.forEach(doc => {
                const u = doc.data();
                const d = u.time ? new Date(u.time.toDate()).toLocaleString('ar-EG') : '...';
                list.innerHTML += `<div class="p-3 bg-gray-50 rounded-lg border-r-4 border-green-500"><p class="font-bold text-gray-800">${u.name}</p><p class="text-xs text-gray-500">${u.specialty} | ${d}</p></div>`;
            });
        };
    </script>
</body>
</html>
